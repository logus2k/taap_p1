<!DOCTYPE html>
<html lang="en">
<head>
<title>GAN vs Human, An Adversarial Challenge</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="data:,">
<link rel="stylesheet" href="styles/game.css">
</head>
<body>
<div class="container">
  <header>
    <h1>GAN vs Human</h1>
    <p class="subtitle">Draw a digit. Beat the Generator. Fool the Classifier.</p>
  </header>

  <!-- Tug of War with Image -->
  <div class="tug-of-war">
    <div class="tug-score-display">
      <div class="tug-score-label" id="tugGenLabel">Generator</div>
      <div class="tug-score-value" id="tugGenScore">50%</div>
      <div class="tug-score-precise" id="tugGenPrecise">0.00</div>
    </div>
    <img src="images/tug_of_war3.png" alt="Tug of War" class="tug-image">
    <div class="tug-score-display">
      <div class="tug-score-label">Human</div>
      <div class="tug-score-value" id="tugHumanScore">50%</div>
      <div class="tug-score-precise" id="tugHumanPrecise">0.00</div>
    </div>
  </div>

  <!-- Score Section -->
  <div class="score-section">
    <div class="score-card">
      <div class="label" id="genWinsLabel">GAN Wins</div>
      <div class="wins" id="genWins">0</div>
    </div>
    <div class="trial-indicator">
      <div class="label">Trial</div>
      <div class="trial" id="trialDisplay">1/10</div>
    </div>
    <div class="score-card">
      <div class="label">Human Wins</div>
      <div class="wins" id="humanWins">0</div>
    </div>
  </div>

  <!-- Difficulty Selector -->
  <div class="difficulty-selector">
    <button class="difficulty-btn selected" data-level="basic" data-time="6">Basic</button>
    <button class="difficulty-btn" data-level="average" data-time="3">Average</button>
    <button class="difficulty-btn" data-level="pro" data-time="1.5">Pro</button>
  </div>

  <!-- Digit Selector -->
  <div class="digit-selector">
    <div class="digit-selector-header">Target Digit (randomly selected)</div>
    <div class="digit-buttons" id="digitButtons"></div>
  </div>

  <!-- Game Area -->
  <div class="game-area">
    <!-- Generator Panel (LEFT) -->
    <div class="player-panel gen">
      <div class="player-header">
        <div class="player-title" id="genPanelTitle">AI-generated digit</div>
      </div>
      <div class="gen-canvas-container">
        <canvas id="genCanvas" width="280" height="280"></canvas>
      </div>
      <div class="d-score">
        <div class="d-score-label">Classifier Score</div>
        <div class="d-score-value waiting" id="genScoreDisplay">—</div>
      </div>
    </div>

    <!-- VS Section -->
    <div class="vs-section">
      <div class="vs-divider">VS</div>
      <div class="timer-display" id="timerDisplay">
        <div class="timer-value" id="timerValue">6.0</div>
        <div class="timer-label">seconds</div>
      </div>
      <button class="action-btn btn-judge" id="judgeBtn" disabled>Judge</button>
      <button class="action-btn btn-clear" id="clearBtn">Clear</button>
      <button class="action-btn btn-next" id="nextBtn" style="display: none;">Next</button>
      <div class="round-result" id="roundResult"></div>
      <label class="preview-toggle">
        <input type="checkbox" id="mnistViewToggle">
        <span>MNIST View</span>
      </label>
      <label class="preview-toggle">
        <input type="checkbox" id="mnistDigitToggle">
        <span>MNIST Digit</span>
      </label>
    </div>

    <!-- Human Panel (RIGHT) -->
    <div class="player-panel human">
      <div class="player-header">
        <div class="player-title">Draw the selected digit</div>
      </div>
      <div class="canvas-container">
        <canvas id="drawCanvas" width="280" height="280"></canvas>
        <canvas id="previewCanvas" width="280" height="280"></canvas>
        <canvas id="gridCanvas" width="280" height="280"></canvas>
      </div>
      <div class="d-score">
        <div class="d-score-label">Classifier Score</div>
        <div class="d-score-value waiting" id="humanScoreDisplay">—</div>
      </div>
    </div>
  </div>
</div>

<!-- Result Overlay -->
<div class="result-overlay" id="resultOverlay">
  <div class="result-card">
    <div class="result-badge" id="resultBadge">Victory</div>
    <div class="result-title" id="resultTitle">You Win!</div>
    <div class="result-margin" id="resultMargin">Margin: <span class="positive">+12.4%</span></div>
    <div class="result-scores">
      <div class="result-score-item">
        <div class="result-score-label">Your Score</div>
        <div class="result-score-value human" id="resultHumanScore">85.2%</div>
      </div>
      <div class="result-score-item">
        <div class="result-score-label">GAN Score</div>
        <div class="result-score-value gen" id="resultGenScore">72.8%</div>
      </div>
    </div>
    <button class="result-btn" id="resultNextBtn">Continue</button>
  </div>
</div>

<!-- Connection Status -->
<div class="connection">
  <div class="connection-dot" id="connDot"></div>
  <span id="connText">Connecting</span>
</div>

<script src="libraries/socket.io.min.js"></script>
<script src="scripts/game.js"></script>
</body>
</html>
